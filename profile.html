<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>個人中心 - PREMIUM SELECT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="liff-ui.css">
</head>
<body class="bg-[#fafafa] pb-20">

    <header class="bg-white p-8 border-b border-gray-50 flex flex-col items-center">
        <div class="w-20 h-20 rounded-full border-2 border-gray-100 p-1 mb-4">
            <img id="userAvatar" src="https://via.placeholder.com/150" class="w-full h-full rounded-full object-cover">
        </div>
        <h2 id="userName" class="text-lg font-bold tracking-tight">Loading...</h2>
        <span id="vipLevelTag" class="text-[10px] px-3 py-1 bg-black text-white rounded-full mt-2 tracking-widest uppercase">Member</span>
    </header>

    <main class="p-6 space-y-8">
        <section class="bg-white p-6 rounded-2xl shadow-sm border border-gray-50">
            <div class="flex justify-between items-end mb-4">
                <div>
                    <p class="text-[10px] text-gray-400 font-bold uppercase tracking-widest">VIP Progress</p>
                    <p id="vipHint" class="text-xs font-medium mt-1">再消費 $2,400 升級為 GOLD VIP</p>
                </div>
                <p class="text-lg font-bold italic">Level 1</p>
            </div>
            <div class="h-2 w-full bg-gray-100 rounded-full overflow-hidden">
                <div id="vipProgressBar" class="vip-progress-bar w-[40%] h-full transition-all duration-1000"></div>
            </div>
        </section>

        <section>
            <h3 class="text-[11px] font-bold text-gray-400 mb-4 tracking-widest uppercase">Order Tracking / 最新訂單追蹤</h3>
            <div class="bg-white p-6 rounded-2xl shadow-sm space-y-6">
                <div id="trackingTimeline" class="relative pl-8 space-y-8 before:content-[''] before:absolute before:left-[11px] before:top-2 before:bottom-2 before:w-[1px] before:bg-gray-100">
                    <div class="relative">
                        <div class="absolute -left-[27px] w-4 h-4 rounded-full bg-black border-4 border-white"></div>
                        <p class="text-xs font-bold">訂單已成立</p>
                        <p class="text-[10px] text-gray-400 mt-1">2025-12-29 14:00</p>
                    </div>
                    <div class="relative">
                        <div class="absolute -left-[27px] w-4 h-4 rounded-full bg-gray-200 border-4 border-white"></div>
                        <p class="text-xs font-bold text-gray-300">商品準備中</p>
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h3 class="text-[11px] font-bold text-gray-400 mb-4 tracking-widest uppercase">History / 歷史購買</h3>
            <div id="historyList" class="space-y-4">
                <div class="bg-white p-4 rounded-2xl flex justify-between items-center shadow-sm border border-gray-50">
                    <div class="flex gap-4 items-center">
                        <img src="https://via.placeholder.com/50" class="w-12 h-12 rounded-lg object-cover">
                        <div>
                            <p class="text-xs font-bold">韓系水光唇釉 #04</p>
                            <p class="text-[10px] text-gray-400">度數: -2.50 / 數量: 1</p>
                        </div>
                    </div>
                    <button class="bg-gray-50 hover:bg-black hover:text-white p-2 rounded-full transition duration-300">
                        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"/></svg>
                    </button>
                </div>
            </div>
        </section>
    </main>

    <nav class="fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-md border-t border-gray-50 flex justify-around p-3 z-50">
        <button onclick="location.href='index.html'" class="p-2 text-gray-300 hover:text-black transition"><svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg></button>
        <button onclick="location.href='cart.html'" class="p-2 text-gray-300 hover:text-black transition"><svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/></svg></button>
        <button class="p-2 text-black"><svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg></button>
    </nav>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9/firebase-app.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9/firebase-firestore.js";
        import { firebaseConfig, systemConfig } from "../core/firebase-config.js";

        // 載入會員等級與進度邏輯
        async function loadProfile() {
            // 實際串接時需從 LIFF 獲取 userId
            const userId = "test_user"; 
            console.log("正在載入會員進度與金屬質感 UI...");
        }
        
        loadProfile();
    </script>
</body>
</html>